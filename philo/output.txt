==56129== Helgrind, a thread error detector
==56129== Copyright (C) 2007-2017, and GNU GPL'd, by OpenWorks LLP et al.
==56129== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==56129== Command: ./philo 5 800 200 200 7
==56129== 
0 ms 2 has taken a fork
==56129== ---Thread-Announcement------------------------------------------
==56129== 
==56129== Thread #2 was created
==56129==    at 0x49AA122: clone (clone.S:71)
==56129==    by 0x486F2EB: create_thread (createthread.c:101)
==56129==    by 0x4870E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==56129==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4014A9: main (philo.c:72)
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129== Thread #2: lock order "0x4A802F0 before 0x4A80318" violated
==56129== 
==56129== Observed (incorrect) order is: acquisition of lock at 0x4A80318
==56129==    at 0x483FEDF: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x401A55: philo_lock1 (lifeutils.c:91)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129==  followed by a later acquisition of lock at 0x4A802F0
==56129==    at 0x483FEDF: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x401C13: philo_lock2 (lifeutils.c:128)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D8D: philo_life (lifeutils.c:157)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129== Required order was established by acquisition of lock at 0x4A802F0
==56129==    at 0x483FEDF: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x401A33: philo_lock1 (lifeutils.c:88)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129==  followed by a later acquisition of lock at 0x4A80318
==56129==    at 0x483FEDF: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x401A55: philo_lock1 (lifeutils.c:91)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129==  Lock at 0x4A802F0 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4020EF: init_forks (initstruct.c:66)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a802f0 is 688 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129==  Lock at 0x4A80318 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402131: init_forks (initstruct.c:68)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80318 is 728 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129== Thread #2: lock order "0x4A802F0 before 0x4A80318" violated
==56129== 
==56129== Observed (incorrect) order is: acquisition of lock at 0x4A80318
==56129==    at 0x483FEDF: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x401A55: philo_lock1 (lifeutils.c:91)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129==  followed by a later acquisition of lock at 0x4A802F0
==56129==    at 0x483FEDF: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x401843: philo_eat (lifeutils.c:53)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401DAA: philo_life (lifeutils.c:158)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129== Required order was established by acquisition of lock at 0x4A802F0
==56129==    at 0x483FEDF: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x401A33: philo_lock1 (lifeutils.c:88)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129==  followed by a later acquisition of lock at 0x4A80318
==56129==    at 0x483FEDF: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x401A55: philo_lock1 (lifeutils.c:91)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129==  Lock at 0x4A802F0 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4020EF: init_forks (initstruct.c:66)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a802f0 is 688 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129==  Lock at 0x4A80318 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402131: init_forks (initstruct.c:68)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80318 is 728 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129== 
4 m==56129== ---Thread-Announcement------------------------------------------
==56129== 
==56129== Thread #1 is the program's root thread
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129== Thread #1 unlocked lock at 0x4A80248 currently held by thread #2
==56129==    at 0x48403F6: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4012EF: check_one_dead (philo.c:41)
==56129==    by 0x4014E1: main (philo.c:79)
==56129==  Lock at 0x4A80248 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x40226C: init_philo (initstruct.c:86)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80248 is 520 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129==  Lock at 0x4A80260 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x40229A: init_philo (initstruct.c:88)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80260 is 544 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129==  Lock at 0x4A802F0 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4020EF: init_forks (initstruct.c:66)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a802f0 is 688 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129==  Lock at 0x4A80318 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402131: init_forks (initstruct.c:68)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80318 is 728 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129== Possible data race during read of size 1 at 0x4A80054 by thread #1
==56129== Locks held: 1, at address 0x4A80260
==56129==    at 0x40243D: get_time_ms (utils.c:30)
==56129==    by 0x401329: check_one_dead (philo.c:45)
==56129==    by 0x4014E1: main (philo.c:79)
==56129== 
==56129== This conflicts with a previous write of size 1 by thread #2
==56129== Locks held: 2, at addresses 0x4A802F0 0x4A80318
==56129==    at 0x402465: get_time_ms (utils.c:31)
==56129==    by 0x401A6E: philo_lock1 (lifeutils.c:93)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129==  Address 0x4a80054 is 20 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129==  Lock at 0x4A80260 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x40229A: init_philo (initstruct.c:88)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80260 is 544 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129==  Lock at 0x4A802F0 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4020EF: init_forks (initstruct.c:66)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a802f0 is 688 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129==  Lock at 0x4A80318 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402131: init_forks (initstruct.c:68)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80318 is 728 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129== Possible data race during read of size 4 at 0x4A80054 by thread #1
==56129== Locks held: 1, at address 0x4A80260
==56129==    at 0x40243D: get_time_ms (utils.c:30)
==56129==    by 0x401329: check_one_dead (philo.c:45)
==56129==    by 0x4014E1: main (philo.c:79)
==56129== 
==56129== This conflicts with a previous write of size 1 by thread #2
==56129== Locks held: 2, at addresses 0x4A802F0 0x4A80318
==56129==    at 0x402465: get_time_ms (utils.c:31)
==56129==    by 0x401A6E: philo_lock1 (lifeutils.c:93)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129==  Address 0x4a80054 is 20 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129==  Lock at 0x4A802F0 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4020EF: init_forks (initstruct.c:66)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a802f0 is 688 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129==  Lock at 0x4A80318 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402131: init_forks (initstruct.c:68)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80318 is 728 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129== Possible data race during read of size 4 at 0x4A80054 by thread #1
==56129== Locks held: none
==56129==    at 0x40243D: get_time_ms (utils.c:30)
==56129==    by 0x401379: check_one_dead (philo.c:49)
==56129==    by 0x4014E1: main (philo.c:79)
==56129== 
==56129== This conflicts with a previous write of size 1 by thread #2
==56129== Locks held: 2, at addresses 0x4A802F0 0x4A80318
==56129==    at 0x402465: get_time_ms (utils.c:31)
==56129==    by 0x401A6E: philo_lock1 (lifeutils.c:93)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129==  Address 0x4a80054 is 20 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
s 2 ==56129== ---Thread-Announcement------------------------------------------
==56129== 
==56129== Thread #4 was created
==56129==    at 0x49AA122: clone (clone.S:71)
==56129==    by 0x486F2EB: create_thread (createthread.c:101)
==56129==    by 0x4870E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==56129==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4014A9: main (philo.c:72)
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129== Thread #4: Bug in libpthread: write lock granted on mutex/rwlock which is currently wr-held by a different thread
==56129==    at 0x483FEDF: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x40156F: check_and_exec (lifeutils.c:17)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129== Thread #4 unlocked lock at 0x4A80248 currently held by thread #2
==56129==    at 0x48403F6: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4017EC: check_and_exec (lifeutils.c:45)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129==  Lock at 0x4A80248 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x40226C: init_philo (initstruct.c:86)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80248 is 520 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129== 
is s==56129== ----------------------------------------------------------------
==56129== 
==56129==  Lock at 0x4A80390 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4020EF: init_forks (initstruct.c:66)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80390 is 848 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129==  Lock at 0x4A803B8 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402131: init_forks (initstruct.c:68)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a803b8 is 888 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129==  Lock at 0x4A802F0 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4020EF: init_forks (initstruct.c:66)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a802f0 is 688 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129==  Lock at 0x4A80318 was first observed
==56129==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402131: init_forks (initstruct.c:68)
==56129==    by 0x4023BA: init_philo (initstruct.c:102)
==56129==    by 0x401457: main (philo.c:70)
==56129==  Address 0x4a80318 is 728 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
==56129== Possible data race during read of size 4 at 0x4A80054 by thread #4
==56129== Locks held: 2, at addresses 0x4A80390 0x4A803B8
==56129==    at 0x40243D: get_time_ms (utils.c:30)
==56129==    by 0x401A6E: philo_lock1 (lifeutils.c:93)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129== This conflicts with a previous write of size 1 by thread #2
==56129== Locks held: 2, at addresses 0x4A802F0 0x4A80318
==56129==    at 0x402465: get_time_ms (utils.c:31)
==56129==    by 0x401A6E: philo_lock1 (lifeutils.c:93)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129==  Address 0x4a80054 is 20 bytes inside a block of size 1,000,000 alloc'd
==56129==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402674: arena_init (arena.c:20)
==56129==    by 0x401436: main (philo.c:68)
==56129==  Block was alloc'd by thread #1
==56129== 
leeping
801 ms 4 died
8==56129== 
==56129== Process terminating with default action of signal 11 (SIGSEGV)
==56129==  Access not within mapped region at address 0x8
==56129==    at 0x401ABB: philo_lock1 (lifeutils.c:100)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129==  If you believe this happened as a result of a stack
==56129==  overflow in your program's main thread (unlikely but
==56129==  possible), you can try to increase the size of the
==56129==  main thread stack using the --main-stacksize= flag.
==56129==  The main thread stack size used in this run was 8388608.
==56129== ---Thread-Announcement------------------------------------------
==56129== 
==56129== Thread #5 was created
==56129==    at 0x49AA122: clone (clone.S:71)
==56129==    by 0x486F2EB: create_thread (createthread.c:101)
==56129==    by 0x4870E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==56129==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4014A9: main (philo.c:72)
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129== Thread #5: Exiting thread still holds 2 locks
==56129==    at 0x487B170: __lll_lock_wait (lowlevellock.c:52)
==56129==    by 0x48730A2: pthread_mutex_lock (pthread_mutex_lock.c:80)
==56129==    by 0x483FE78: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x402C3E: ft_printf (ft_printf.c:57)
==56129==    by 0x401B1B: philo_lock1 (lifeutils.c:104)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129== Thread #4: Exiting thread still holds 4 locks
==56129==    at 0x487B32F: __libc_write (write.c:26)
==56129==    by 0x487B32F: write (write.c:24)
==56129==    by 0x402F60: ft_putchar (ft_putchar_fd.c:22)
==56129==    by 0x402977: ft_putnbr (ft_printf.c:29)
==56129==    by 0x40295F: ft_putnbr (ft_printf.c:28)
==56129==    by 0x40295F: ft_putnbr (ft_printf.c:28)
==56129==    by 0x402ACA: ft_pourcent (ft_printf.c:46)
==56129==    by 0x402CC8: ft_printf (ft_printf.c:69)
==56129==    by 0x401A8B: philo_lock1 (lifeutils.c:92)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401D70: philo_life (lifeutils.c:156)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129== 
==56129== ----------------------------------------------------------------
==56129== 
==56129== Thread #2: Exiting thread still holds 1 lock
==56129==    at 0x496823F: clock_nanosleep@@GLIBC_2.17 (clock_nanosleep.c:78)
==56129==    by 0x496DEC6: nanosleep (nanosleep.c:27)
==56129==    by 0x49A085E: usleep (usleep.c:32)
==56129==    by 0x401CF5: philo_sleep_think (lifeutils.c:144)
==56129==    by 0x401805: check_and_exec (lifeutils.c:46)
==56129==    by 0x401DC7: philo_life (lifeutils.c:159)
==56129==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==56129==    by 0x4870608: start_thread (pthread_create.c:477)
==56129==    by 0x49AA132: clone (clone.S:95)
==56129== 
==56129== 
==56129== Use --history-level=approx or =none to gain increased speed, at
==56129== the cost of reduced accuracy of conflicting-access information
==56129== For lists of detected and suppressed errors, rerun with: -s
==56129== ERROR SUMMARY: 74558 errors from 12 contexts (suppressed: 37388 from 38)
